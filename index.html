<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explorador Interativo da Arquitetura MVC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony -->
    <!-- Application Structure Plan: A SPA designed to teach the MVC pattern. It starts with a textual introduction, then presents a core interactive diagram where users can trigger an animation of the request/response cycle. As the animation progresses, contextual explanations are displayed. This visual, step-by-step simulation is more effective for learning a process than static text. Below, a tabbed "Deep Dive" section allows non-linear exploration of each component's specific role (Model, View, Controller), catering to users who want more detail. This structure was chosen to guide the user from a general overview to an interactive demonstration and finally to detailed, self-paced learning, enhancing comprehension and engagement. -->
    <!-- Visualization & Content Choices: The primary "visualization" is a dynamic diagram built with HTML/CSS and animated with JS, representing the MVC workflow. Goal: Illustrate change/process. Interaction: A button triggers a timed animation that highlights each component and updates an explanation panel, making the abstract data flow tangible. For organizing detailed component information, a tabbed interface (HTML/CSS/JS) is used. Goal: Organize. Interaction: Clicking tabs reveals specific content. Justification: These choices replace static text with interactive elements that actively engage the user and improve understanding of the conceptual material. No charts are needed as the source is not quantitative data. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        .component-box {
            transition: all 0.5s ease-in-out;
            border: 2px solid #e2e8f0; /* slate-200 */
        }
        .highlight-active {
            transform: scale(1.05);
            border-color: #3b82f6; /* blue-500 */
            background-color: #eff6ff; /* blue-50 */
            box-shadow: 0 4px 14px 0 rgba(59, 130, 246, 0.2);
        }
        .arrow {
            position: relative;
            background-color: #cbd5e1; /* slate-300 */
            transition: background-color 0.5s ease-in-out;
        }
        .arrow-highlight {
            background-color: #3b82f6; /* blue-500 */
        }
        .arrow::after {
            content: '';
            position: absolute;
            border: solid #cbd5e1; /* slate-300 */
            border-width: 0 3px 3px 0;
            display: inline-block;
            padding: 4px;
            transition: border-color 0.5s ease-in-out;
        }
        .arrow-highlight::after {
            border-color: #3b82f6; /* blue-500 */
        }
        .arrow-right::after { top: -5px; right: -8px; transform: rotate(-45deg); }
        .arrow-left::after { top: -5px; left: -8px; transform: rotate(135deg); }
        .arrow-down::after { left: -5px; bottom: -8px; transform: rotate(45deg); }
        
        .tab-btn {
            transition: all 0.3s ease;
        }
        .tab-btn-active {
            background-color: #3b82f6; /* blue-500 */
            color: white;
            box-shadow: 0 2px 8px 0 rgba(59, 130, 246, 0.3);
        }
    </style>
</head>
<body class="text-slate-800">

    <main class="container mx-auto p-4 md:p-8 max-w-6xl">
        <header class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-bold text-slate-900">Explorador Interativo da Arquitetura MVC</h1>
            <p class="mt-4 text-lg text-slate-600">Uma visualiza√ß√£o din√¢mica do fluxo de requisi√ß√£o em aplica√ß√µes web.</p>
        </header>

        <section id="introduction" class="mb-12 bg-white p-6 rounded-lg shadow-sm">
            <h2 class="text-2xl font-semibold mb-3 text-slate-900">O que √© MVC?</h2>
            <p class="text-slate-700 leading-relaxed">
                A arquitetura MVC (Model-View-Controller) divide o sistema em tr√™s componentes interligados, cada um com uma responsabilidade bem definida. O fluxo de execu√ß√£o de uma aplica√ß√£o MVC √© um ciclo claro e previs√≠vel que garante a separa√ß√£o de responsabilidades, tornando o c√≥digo mais organizado, test√°vel e escal√°vel. Esta p√°gina demonstra esse fluxo de forma interativa.
            </p>
        </section>

        <section id="interactive-flow" class="mb-12">
            <h2 class="text-3xl font-bold text-center mb-8 text-slate-900">Simula√ß√£o do Fluxo MVC</h2>
            <div class="flex flex-col lg:flex-row gap-8 items-start">
                <div class="w-full lg:w-3/5">
                    <div id="diagram-container" class="relative bg-white p-6 rounded-lg shadow-lg min-h-[400px] flex flex-col justify-around items-center">
                        
                        <div id="user-box" class="component-box text-center p-4 rounded-lg bg-slate-50 w-48">
                            <span class="text-2xl">üë§</span>
                            <p class="font-semibold">Usu√°rio</p>
                        </div>

                        <div id="arrow-1" class="arrow arrow-down h-8 w-1"></div>

                        <div class="w-full flex justify-around items-center">
                             <div id="controller-box" class="component-box text-center p-4 rounded-lg bg-slate-50 w-48">
                                <span class="text-2xl">üïπÔ∏è</span>
                                <p class="font-semibold">Controller</p>
                            </div>
                             <div id="view-box" class="component-box text-center p-4 rounded-lg bg-slate-50 w-48">
                                <span class="text-2xl">üñ•Ô∏è</span>
                                <p class="font-semibold">View</p>
                            </div>
                        </div>

                        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full flex justify-center px-28">
                             <div id="arrow-2" class="arrow w-full h-1 arrow-right"></div>
                             <div id="arrow-4" class="arrow w-full h-1 arrow-left" style="visibility: hidden;"></div>
                        </div>

                        <div id="arrow-3" class="arrow arrow-down h-8 w-1"></div>

                        <div id="model-box" class="component-box text-center p-4 rounded-lg bg-slate-50 w-48">
                            <span class="text-2xl">üì¶</span>
                            <p class="font-semibold">Model</p>
                        </div>
                    </div>
                </div>
                
                <div class="w-full lg:w-2/5">
                    <div id="explanation-panel" class="bg-white p-6 rounded-lg shadow-lg sticky top-8 min-h-[400px]">
                        <h3 id="explanation-title" class="text-xl font-semibold mb-3 border-b pb-2 text-slate-900">Etapas da Requisi√ß√£o</h3>
                        <p id="explanation-text" class="text-slate-700 leading-relaxed pt-2">
                           Clique no bot√£o "Iniciar Simula√ß√£o" para visualizar o fluxo de uma requisi√ß√£o do usu√°rio atrav√©s das camadas da arquitetura MVC. Cada etapa ser√° destacada no diagrama e descrita aqui.
                        </p>
                         <div class="mt-6 text-center">
                            <button id="simulate-btn" class="bg-blue-500 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 transition-transform transform hover:scale-105 disabled:bg-slate-400 disabled:cursor-not-allowed disabled:scale-100">
                                Iniciar Simula√ß√£o
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="deep-dive">
            <h2 class="text-3xl font-bold text-center mb-8 text-slate-900">Explorando os Componentes</h2>
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <div id="tabs" class="flex flex-wrap justify-center gap-2 mb-6">
                    <button class="tab-btn tab-btn-active py-2 px-5 rounded-lg font-semibold bg-slate-200 text-slate-700" data-target="controller-content">Controller üïπÔ∏è</button>
                    <button class="tab-btn py-2 px-5 rounded-lg font-semibold bg-slate-200 text-slate-700" data-target="model-content">Model üì¶</button>
                    <button class="tab-btn py-2 px-5 rounded-lg font-semibold bg-slate-200 text-slate-700" data-target="view-content">View üñ•Ô∏è</button>
                </div>

                <div id="tab-content" class="text-slate-700 leading-relaxed">
                    <div id="controller-content" class="tab-pane">
                        <h3 class="text-xl font-semibold mb-3 text-slate-800">1. Ponto de Partida: O Controller</h3>
                        <p class="mb-4">O ciclo come√ßa quando o usu√°rio interage com a aplica√ß√£o. A requisi√ß√£o √© recebida pelo servidor web e, atrav√©s de um sistema de roteamento, √© direcionada para a camada **Controller**. O Controller atua como a porta de entrada da aplica√ß√£o, recebendo e interpretando as inten√ß√µes do usu√°rio.</p>
                        <p>Ap√≥s receber a requisi√ß√£o, o Controller n√£o executa a l√≥gica de neg√≥cio diretamente. Ele atua como um maestro, orquestrando as a√ß√µes e decidindo qual Model e View devem ser utilizados para responder √† solicita√ß√£o.</p>
                    </div>
                    <div id="model-content" class="tab-pane hidden">
                        <h3 class="text-xl font-semibold mb-3 text-slate-800">2. O Cora√ß√£o da L√≥gica: O Model</h3>
                        <p class="mb-4">O Controller interage com o **Model**, a camada que cont√©m toda a l√≥gica de neg√≥cio, as regras e a manipula√ß√£o dos dados. O Model √© respons√°vel por acessar o banco de dados para obter as informa√ß√µes necess√°rias, validar os dados antes de process√°-los e realizar qualquer opera√ß√£o de neg√≥cio, como calcular um valor ou salvar um registro.</p>
                        <p>Ap√≥s o Model concluir a opera√ß√£o, ele retorna os dados ou o resultado da opera√ß√£o para o Controller. O Model √© agn√≥stico em rela√ß√£o √† interface do usu√°rio; ele apenas fornece os dados brutos e a l√≥gica de processamento.</p>
                    </div>
                    <div id="view-content" class="tab-pane hidden">
                         <h3 class="text-xl font-semibold mb-3 text-slate-800">3. A Interface Final: A View</h3>
                        <p class="mb-4">Com os dados processados em m√£os, o Controller seleciona a **View**, que √© a camada de apresenta√ß√£o mais adequada para exibir os dados recebidos do Model. O Controller ent√£o passa esses dados para a View.</p>
                        <p>A View utiliza os dados para gerar a interface final, geralmente uma p√°gina HTML, com todos os elementos visuais (HTML, CSS e JavaScript). Esta p√°gina renderizada √© ent√£o enviada de volta ao navegador do usu√°rio como a resposta final √† sua requisi√ß√£o inicial.</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center py-6 mt-8">
        <p class="text-slate-500">Criado para demonstrar a arquitetura MVC de forma interativa.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const simulateBtn = document.getElementById('simulate-btn');
            const explanationTitle = document.getElementById('explanation-title');
            const explanationText = document.getElementById('explanation-text');

            const boxes = {
                user: document.getElementById('user-box'),
                controller: document.getElementById('controller-box'),
                model: document.getElementById('model-box'),
                view: document.getElementById('view-box'),
            };

            const arrows = {
                a1: document.getElementById('arrow-1'),
                a2: document.getElementById('arrow-2'),
                a3: document.getElementById('arrow-3'),
                a4: document.getElementById('arrow-4')
            };

            const steps = [
                { element: boxes.user, arrow: arrows.a1, title: '1. Requisi√ß√£o do Usu√°rio', text: 'O ciclo come√ßa com o usu√°rio fazendo uma requisi√ß√£o, como clicar em um link. Esta a√ß√£o √© enviada ao Controller.' },
                { element: boxes.controller, arrow: arrows.a2, title: '2. Processamento (Parte 1)', text: 'O Controller recebe a requisi√ß√£o. Ele n√£o cont√©m a l√≥gica de neg√≥cio; em vez disso, ele chama o Model para lidar com os dados.' },
                { element: boxes.model, arrow: arrows.a3, title: '2. Processamento (Parte 2)', text: 'O Model executa a l√≥gica de neg√≥cio, interage com o banco de dados e prepara os dados necess√°rios.' },
                { element: boxes.controller, arrow: arrows.a4, title: '3. Apresenta√ß√£o (Parte 1)', text: 'O Model retorna os dados processados para o Controller.' },
                { element: boxes.view, arrow: null, title: '3. Apresenta√ß√£o (Parte 2)', text: 'O Controller passa os dados para a View, que √© respons√°vel por gerar a interface do usu√°rio.' },
                { element: boxes.user, arrow: null, title: '4. Resposta Final', text: 'A View renderizada (HTML) √© enviada de volta ao navegador para ser exibida ao usu√°rio, completando o ciclo.' }
            ];

            const sleep = ms => new Promise(res => setTimeout(res, ms));

            const resetState = () => {
                Object.values(boxes).forEach(box => box.classList.remove('highlight-active'));
                Object.values(arrows).forEach(arrow => {
                    arrow.classList.remove('arrow-highlight');
                    arrow.style.visibility = (arrow.id === 'arrow-4') ? 'hidden' : 'visible';
                });
                explanationTitle.textContent = 'Etapas da Requisi√ß√£o';
                explanationText.textContent = 'Clique no bot√£o "Iniciar Simula√ß√£o" para visualizar o fluxo novamente.';
                simulateBtn.disabled = false;
            };

            const runSimulation = async () => {
                simulateBtn.disabled = true;
                resetState();

                for (let i = 0; i < steps.length; i++) {
                    const step = steps[i];
                    
                    Object.values(boxes).forEach(box => box.classList.remove('highlight-active'));
                    Object.values(arrows).forEach(arrow => arrow.classList.remove('arrow-highlight'));

                    step.element.classList.add('highlight-active');
                    explanationTitle.textContent = step.title;
                    explanationText.textContent = step.text;

                    if (step.arrow) {
                        step.arrow.classList.add('arrow-highlight');
                        if (step.arrow.id === 'arrow-4') {
                           step.arrow.style.visibility = 'visible';
                        }
                    }
                    
                    if (step.arrow && step.arrow.id === 'arrow-2') {
                        arrows.a4.style.visibility = 'hidden';
                    }
                    
                    await sleep(2500);
                }
                
                await sleep(1000);
                resetState();
            };

            simulateBtn.addEventListener('click', runSimulation);

            const tabs = document.querySelectorAll('.tab-btn');
            const tabPanes = document.querySelectorAll('.tab-pane');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(item => item.classList.remove('tab-btn-active'));
                    tab.classList.add('tab-btn-active');
                    
                    const target = document.getElementById(tab.dataset.target);
                    tabPanes.forEach(pane => pane.classList.add('hidden'));
                    target.classList.remove('hidden');
                });
            });
        });
    </script>
</body>
</html>
